version: "3.1"

stories:
  - story: greet and exit
    steps:
      - intent: greet
      - action: utter_greet
      - intent: goodbye
      - action: utter_goodbye

  - story: happy path laptop search
    steps:
      - intent: search_laptop
      - action: laptop_search_form
      - active_loop: laptop_search_form
      - intent: inform
        entities:
          - brand: "Dell"
      - action: laptop_search_form
      - intent: inform
        entities:
          - price_min: 500
      - action: laptop_search_form
      - intent: inform
        entities:
          - price_max: 1200
      - action: laptop_search_form
      - intent: inform
        entities:
          - ram_gb: 16
      - action: laptop_search_form
      - intent: affirm
      - active_loop: null
      - action: action_search_laptop

  - story: correction on invalid input
    steps:
      - intent: search_laptop
      - action: laptop_search_form
      - active_loop: laptop_search_form
      - intent: inform
        entities:
          - price_min: -100
      - action: action_search_laptop
      - action: utter_ask_price_min
      - intent: inform
        entities:
          - price_min: 300
      - action: laptop_search_form
      - intent: affirm
      - active_loop: null
      - action: action_search_laptop

  - story: user denies further search
    steps:
      - intent: search_laptop
      - action: laptop_search_form
      - active_loop: laptop_search_form
      - intent: deny
      - action: utter_goodbye
      - active_loop: null