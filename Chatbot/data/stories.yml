version: "3.1"

stories:
  - story: Greet and exit
    steps:
      - intent: greet
      - action: utter_greet
      - intent: goodbye
      - action: utter_goodbye


  - story: User denies search midway
    steps:
      - intent: search_laptop
      - action: utter_ask_next_slot
      - active_loop: laptop_search_form
      - intent: deny
      - action: utter_goodbye
      - active_loop: null

  - story: Fallback during form
    steps:
      - intent: search_laptop
      - action: utter_ask_next_slot
      - active_loop: laptop_search_form
      - intent: nlu_fallback
      - action: action_default_fallback
      - action: utter_ask_next_slot
      - active_loop: laptop_search_form

  - story: interactive_story_1
    steps:
    - intent: greet
    - action: utter_greet
    - intent: search_laptop
    - action: utter_ask_next_slot
    - intent: choose_field
      entities:
      - slot_name: brand
    - slot_was_set:
      - slot_name: brand
    - action: action_choose_slot
    - slot_was_set:
      - asked_slot: brand
    - action: action_ask_selected_slot
    - intent: choose_field
      entities:
      - brand: Dell
    - slot_was_set:
      - brand: Dell
    - intent: choose_field
      entities:
      - brand: Dell
    - slot_was_set:
      - brand: Dell
    - action: utter_ask_next_slot
    - intent: choose_field
      entities:
      - slot_name: price_max
    - slot_was_set:
      - slot_name: price_max
    - action: action_choose_slot
    - slot_was_set:
      - asked_slot: price_max
    - action: action_ask_selected_slot
    - intent: inform
      entities:
      - price_max: '600'
    - slot_was_set:
      - price_max: '600'
    - action: utter_ask_next_slot
    - intent: affirm
    - action: action_search_laptop
    - slot_was_set:
      - brand: null
    - slot_was_set:
      - price_min: null
    - slot_was_set:
      - price_max: null
    - slot_was_set:
      - processor_brand: null
    - slot_was_set:
      - processor_name: null
    - slot_was_set:
      - ram_gb: null
    - slot_was_set:
      - ssd_gb: null
    - slot_was_set:
      - hdd_gb: null
    - slot_was_set:
      - gpu_brand: null
    - slot_was_set:
      - gpu: null
    - slot_was_set:
      - display_inch: null
    - slot_was_set:
      - battery_hrs: null
    - slot_was_set:
      - asked_slot: null
    - slot_was_set:
      - slot_name: null
    - intent: goodbye
    - action: utter_goodbye

  - story: interactive_story_2
    steps:
    - intent: greet
    - action: utter_greet
    - intent: search_laptop
    - action: utter_ask_next_slot
    - intent: choose_field
      entities:
      - slot_name: brand
    - slot_was_set:
      - slot_name: brand
    - action: action_choose_slot
    - slot_was_set:
      - asked_slot: brand
    - action: action_ask_selected_slot
    - intent: inform
      entities:
      - brand: Lenovo
    - slot_was_set:
      - brand: Lenovo
    - action: utter_ask_next_slot
    - intent: choose_field
      entities:
      - slot_name: price_min
    - slot_was_set:
      - slot_name: price_min
    - action: action_choose_slot
    - slot_was_set:
      - asked_slot: price_min
    - action: action_ask_selected_slot
    - intent: inform
      entities:
      - price_min: '-1'
    - slot_was_set:
      - price_min: '-1'
    - action: action_ask_selected_slot
    - intent: inform
      entities:
      - price_min: '100'
    - slot_was_set:
      - price_min: '100'
